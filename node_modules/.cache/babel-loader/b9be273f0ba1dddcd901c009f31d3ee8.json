{"ast":null,"code":"import _slicedToArray from \"/home/abade/projects/instagram-web-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/abade/projects/instagram-web-clone/src/components/Layout.js\";\nimport React, { Component } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Slide from '@material-ui/core/Slide';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ThemeProvider from '../components/utils/theme';\nimport { history } from '../redux/singletons/store';\nimport AccountRoutes from './Accounts';\nimport Feed from './Feed';\nconst useStyles = makeStyles(theme => ({\n  snackbar: {\n    '& div': {\n      justifyContent: 'center',\n      borderRadius: 25,\n      color: theme.palette.secondary.main,\n      background: '#ffffff'\n    }\n  }\n}));\n\nfunction Message() {\n  const classes = useStyles();\n\n  const _useSelector = useSelector(state => [state.ui.snackbar.open, state.ui.snackbar.message]),\n        _useSelector2 = _slicedToArray(_useSelector, 2),\n        open = _useSelector2[0],\n        message = _useSelector2[1];\n\n  return React.createElement(Snackbar, {\n    open: open,\n    TransitionComponent: Slide,\n    message: React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, message),\n    className: classes.snackbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  });\n}\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n\n  static getDerivedStateFromError() {\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidCatch(error, info) {\n    console.error(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        role: \"img\",\n        \"aria-label\": \"dragon-emoji\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"\\uD83D\\uDC32\"), \"Something went wrong\", React.createElement(\"span\", {\n        role: \"img\",\n        \"aria-label\": \"dragon-emoji\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\uD83D\\uDC32\"));\n    }\n\n    return this.props.children;\n  }\n\n}\n\nfunction Layout() {\n  const signedIn = useSelector(state => state.user.signedIn);\n  const secret = localStorage.getItem('instaInfo') && JSON.parse(localStorage.getItem('instaInfo')).secret;\n  return React.createElement(ErrorBoundary, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(ThemeProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(ConnectedRouter, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/account\",\n    component: AccountRoutes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(Route, {\n    component: signedIn || secret ? Feed : () => React.createElement(Redirect, {\n      to: \"/account\",\n      push: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(Message, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }))));\n}\n\nexport default Layout;","map":{"version":3,"sources":["/home/abade/projects/instagram-web-clone/src/components/Layout.js"],"names":["React","Component","useSelector","Redirect","Route","Switch","ConnectedRouter","Snackbar","Slide","makeStyles","ThemeProvider","history","AccountRoutes","Feed","useStyles","theme","snackbar","justifyContent","borderRadius","color","palette","secondary","main","background","Message","classes","state","ui","open","message","ErrorBoundary","constructor","props","hasError","getDerivedStateFromError","componentDidCatch","error","info","console","render","children","Layout","signedIn","user","secret","localStorage","getItem","JSON","parse"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,MAA1B,QAAwC,kBAAxC;AACA,SAASC,eAAT,QAAgC,wBAAhC;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,SAASC,OAAT,QAAwB,2BAAxB;AAEA,OAAOC,aAAP,MAA0B,YAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,MAAMC,SAAS,GAAGL,UAAU,CAACM,KAAK,KAAK;AACrCC,EAAAA,QAAQ,EAAE;AACR,aAAS;AACPC,MAAAA,cAAc,EAAE,QADT;AAEPC,MAAAA,YAAY,EAAE,EAFP;AAGPC,MAAAA,KAAK,EAAEJ,KAAK,CAACK,OAAN,CAAcC,SAAd,CAAwBC,IAHxB;AAIPC,MAAAA,UAAU,EAAE;AAJL;AADD;AAD2B,CAAL,CAAN,CAA5B;;AAWA,SAASC,OAAT,GAAmB;AACjB,QAAMC,OAAO,GAAGX,SAAS,EAAzB;;AADiB,uBAGOZ,WAAW,CAACwB,KAAK,IAAI,CAC3CA,KAAK,CAACC,EAAN,CAASX,QAAT,CAAkBY,IADyB,EAE3CF,KAAK,CAACC,EAAN,CAASX,QAAT,CAAkBa,OAFyB,CAAV,CAHlB;AAAA;AAAA,QAGVD,IAHU;AAAA,QAGJC,OAHI;;AAQjB,SACE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAED,IADR;AAEE,IAAA,mBAAmB,EAAEpB,KAFvB;AAGE,IAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOqB,OAAP,CAHX;AAIE,IAAA,SAAS,EAAEJ,OAAO,CAACT,QAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAQD;;AAED,MAAMc,aAAN,SAA4B7B,SAA5B,CAAsC;AACpC8B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKN,KAAL,GAAa;AAAEO,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AACD;;AAED,SAAOC,wBAAP,GAAkC;AAChC,WAAO;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAP;AACD;;AAEDE,EAAAA,iBAAiB,CAACC,KAAD,EAAQC,IAAR,EAAc;AAC7BC,IAAAA,OAAO,CAACF,KAAR,CAAcA,KAAd,EAAqBC,IAArB;AACD;;AAEDE,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKb,KAAL,CAAWO,QAAf,EAAyB;AACvB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,IAAI,EAAC,KAAX;AAAiB,sBAAW,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,0BAKE;AAAM,QAAA,IAAI,EAAC,KAAX;AAAiB,sBAAW,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,CADF;AAWD;;AAED,WAAO,KAAKD,KAAL,CAAWQ,QAAlB;AACD;;AA9BmC;;AAiCtC,SAASC,MAAT,GAAkB;AAChB,QAAMC,QAAQ,GAAGxC,WAAW,CAACwB,KAAK,IAAIA,KAAK,CAACiB,IAAN,CAAWD,QAArB,CAA5B;AACA,QAAME,MAAM,GACVC,YAAY,CAACC,OAAb,CAAqB,WAArB,KACAC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CF,MAFhD;AAIA,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAEjC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,SAAS,EAAEC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,KAAD;AACE,IAAA,SAAS,EACP8B,QAAQ,IAAIE,MAAZ,GACI/B,IADJ,GAEI,MAAM,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,UAAb;AAAwB,MAAA,IAAI,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF,CADF,CADF;AAmBD;;AAED,eAAe4B,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Slide from '@material-ui/core/Slide';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ThemeProvider from '../components/utils/theme';\nimport { history } from '../redux/singletons/store';\n\nimport AccountRoutes from './Accounts';\nimport Feed from './Feed';\n\nconst useStyles = makeStyles(theme => ({\n  snackbar: {\n    '& div': {\n      justifyContent: 'center',\n      borderRadius: 25,\n      color: theme.palette.secondary.main,\n      background: '#ffffff'\n    }\n  }\n}));\n\nfunction Message() {\n  const classes = useStyles();\n\n  const [open, message] = useSelector(state => [\n    state.ui.snackbar.open,\n    state.ui.snackbar.message\n  ]);\n\n  return (\n    <Snackbar\n      open={open}\n      TransitionComponent={Slide}\n      message={<span>{message}</span>}\n      className={classes.snackbar}\n    />\n  );\n}\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    console.error(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1>\n          <span role=\"img\" aria-label=\"dragon-emoji\">\n            üê≤\n          </span>\n          Something went wrong\n          <span role=\"img\" aria-label=\"dragon-emoji\">\n            üê≤\n          </span>\n        </h1>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nfunction Layout() {\n  const signedIn = useSelector(state => state.user.signedIn);\n  const secret =\n    localStorage.getItem('instaInfo') &&\n    JSON.parse(localStorage.getItem('instaInfo')).secret;\n\n  return (\n    <ErrorBoundary>\n      <ThemeProvider>\n        <ConnectedRouter history={history}>\n          <Switch>\n            <Route path=\"/account\" component={AccountRoutes} />\n            <Route\n              component={\n                signedIn || secret\n                  ? Feed\n                  : () => <Redirect to=\"/account\" push />\n              }\n            />\n          </Switch>\n          <Message />\n        </ConnectedRouter>\n      </ThemeProvider>\n    </ErrorBoundary>\n  );\n}\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}